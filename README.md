# Cache Coherence Protocol Simulation (MESI vs Dragon)

This Python script simulates the behavior of two cache coherence protocols — **MESI** and **Dragon** — across four processors. It reads a memory access trace file and calculates the bus activities generated by each protocol.

##  File Structure

- `cachecoherence.py`: Main simulation script.
- `cache_coherence_sequence_2_10000 (1).txt`: Input trace file (must be present in the same directory).

##  Protocols Simulated

- **MESI (Modified, Exclusive, Shared, Invalid)**:
  - Uses `BusRd`, `BusRdX`, and `BusUpgr` bus transactions.
- **Dragon**:
  - Uses `BusRd` and `BusUpdate` bus transactions.
  - Supports shared modification states (`Sc`, `Sm`) along with `M`, `E`, and `I`.

##  How It Works

- The simulation initializes all processors' caches in the `Invalid` state.
- It reads instructions like `P1 read` or `P2 write` from the input trace file.
- Each instruction is executed on both the MESI and Dragon protocol simultaneously.
- Bus activities for each protocol are tracked using Python dictionaries.

##  Example Input Format
P1 read
P2 read
P1 write
P3 read
P2 write


Each line must contain a processor ID (`P1`, `P2`, `P3`, `P4`) followed by a memory operation (`read` or `write`).

## How to Run

Ensure Python 3 is installed and run the script:
python cachecoherence.py

### Output
The script prints two sections:
MESI Protocol Bus Activity
Dragon Protocol Bus Activity

Each section lists the count of each bus transaction type triggered during the simulation.


